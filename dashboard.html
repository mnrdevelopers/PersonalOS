<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#4f46e5">
    <title>Dashboard - PersonalOS</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- App Styles -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/3094/3094845.png">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3094/3094845.png">
    <link rel="manifest" href="manifest.json">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-remote-config-compat.js"></script>
</head>
<body>
     <!-- Main Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="#">
                <i class="fas fa-chart-line me-2"></i>PersonalOS
            </a>
            <div class="d-flex align-items-center">
                <div id="current-time" class="text-white me-3 d-none d-md-block"></div>
                <button class="btn btn-link text-white text-decoration-none d-lg-none me-2 p-2" id="mobile-logout-btn" aria-label="Logout">
                    <i class="fas fa-sign-out-alt fa-lg"></i>
                </button>
                <button class="navbar-toggler border-0 p-0" type="button" id="hamburger-menu" aria-expanded="false">
                    <div class="hamburger-lines">
                        <span></span><span></span><span></span>
                    </div>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="#" data-section="profile"><i class="fas fa-user me-2"></i>Profile</a></li>
                            <li><a class="dropdown-item" href="#" data-section="settings"><i class="fas fa-cog me-2"></i>Settings</a></li>
                            <li><a class="dropdown-item d-none" href="#" id="install-app-btn"><i class="fas fa-download me-2"></i>Install App</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item text-danger" href="#" id="logout-btn"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container-fluid main-container">
        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay"></div>

        <!-- Desktop Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="user-info">
                    <div class="avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-details">
                        <h6 id="user-name">Loading...</h6>
                        <small id="user-email" class="text-muted">Loading...</small>
                    </div>
                </div>
            </div>
            
            <div class="sidebar-menu">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" data-section="dashboard">
                            <i class="fas fa-home me-2"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="finance">
                            <i class="fas fa-money-bill-wave me-2"></i> Income/Expense
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="transactions">
                            <i class="fas fa-exchange-alt me-2"></i> Transaction Ledger
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="loans">
                            <i class="fas fa-hand-holding-usd me-2"></i> Loans & Debts
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="reminders">
                            <i class="fas fa-bell me-2"></i> Tasks & Reminders
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="habits">
                            <i class="fas fa-check-circle me-2"></i> Habits Tracker
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="memories">
                            <i class="fas fa-images me-2"></i> Memories
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="reports">
                            <i class="fas fa-chart-bar me-2"></i> Reports
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="goals">
                            <i class="fas fa-bullseye me-2"></i> Goals
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="entertainment">
                            <i class="fas fa-film me-2"></i> Entertainment
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="expiry">
                            <i class="fas fa-passport me-2"></i> Expiry Tracker
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="profile">
                            <i class="fas fa-user me-2"></i> Profile
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="settings">
                            <i class="fas fa-cog me-2"></i> Settings
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="sidebar-footer">
                <div class="quick-actions">
                    <button class="btn btn-primary btn-sm w-100 mb-2" data-action="add-income">
                        <i class="fas fa-plus-circle me-1"></i> Add Income
                    </button>
                    <button class="btn btn-danger btn-sm w-100 mb-2" data-action="add-expense">
                        <i class="fas fa-minus-circle me-1"></i> Add Expense
                    </button>
                    <button class="btn btn-success btn-sm w-100" data-action="add-habit">
                        <i class="fas fa-plus me-1"></i> New Habit
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="content-section">
                <div class="section-header">
                    <h1>Dashboard</h1>
                    <div class="header-actions">
                        <span id="current-date" class="date-display"></span>
                        <button class="btn btn-outline-primary btn-sm" id="refresh-dashboard">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="row g-3 mb-4">
                    <div class="col-xl-3 col-lg-4 col-md-6">
                        <div class="stat-card">
                            <div class="stat-icon bg-primary">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="today-balance">₹0.00</h3>
                                <p>Today's Balance</p>
                                <small class="text-muted">
                                    <span id="income-today">₹0</span> income • 
                                    <span id="expense-today">₹0</span> expense
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-6">
                        <div class="stat-card">
                            <div class="stat-icon bg-success">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="active-habits">0</h3>
                                <p>Active Habits</p>
                                <small class="text-muted">
                                    <span id="completed-today">0</span> completed today
                                </small>
                                <div id="money-saved-container" class="small text-success fw-bold mt-1 d-none">Saved: <span id="total-money-saved">₹0</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-6">
                        <div class="stat-card">
                            <div class="stat-icon bg-warning">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="pending-tasks">0</h3>
                                <p>Pending Tasks</p>
                                <small class="text-muted">
                                    <span id="due-today">0</span> due today
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-6">
                        <div class="stat-card">
                            <div class="stat-icon bg-info">
                                <i class="fas fa-images"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="total-memories">0</h3>
                                <p>Memories</p>
                                <small class="text-muted">
                                    <span id="memories-this-month">0</span> this month
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-6">
                        <div class="stat-card">
                            <div class="stat-icon bg-danger">
                                <i class="fas fa-hand-holding-usd"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="total-liability">₹0</h3>
                                <p>Active Debts</p>
                                <small class="text-muted">
                                    Assets (Lent): <span id="total-asset" class="text-success">₹0</span>
                                </small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="row g-3 mb-4">
                    <div class="col-lg-8">
                        <div class="card">
                            <div class="card-header">
                                <h5>Financial Overview</h5>
                                <select class="form-select form-select-sm" id="chart-period" style="width: auto;">
                                    <option value="week">This Week</option>
                                    <option value="month">This Month</option>
                                    <option value="year">This Year</option>
                                </select>
                            </div>
                            <div class="card-body">
                                <canvas id="financeChart" height="250"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="card">
                            <div class="card-header">
                                <h5>Habit Streaks</h5>
                            </div>
                            <div class="card-body">
                                <div id="habit-streaks">
                                    <!-- Habit streaks will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="row g-3">
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5>Recent Transactions</h5>
                                <button class="btn btn-sm btn-outline-primary" onclick="window.switchSection('finance')">
                                    View All
                                </button>
                            </div>
                            <div class="card-body">
                                <div id="recent-transactions">
                                    <!-- Transactions will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5>Today's Habits</h5>
                                <button class="btn btn-sm btn-outline-success" onclick="window.switchSection('habits')">
                                    View All
                                </button>
                            </div>
                            <div class="card-body">
                                <div id="todays-habits">
                                    <!-- Habits will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Upcoming Tasks -->
                <div class="row mt-4">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5>Upcoming Tasks</h5>
                                <button class="btn btn-sm btn-outline-warning" onclick="window.switchSection('reminders')">
                                    View All
                                </button>
                            </div>
                            <div class="card-body">
                                <div id="upcoming-tasks">
                                    <!-- Tasks will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Finance Section -->
            <section id="finance-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Transactions Section -->
            <section id="transactions-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Loans Section -->
            <section id="loans-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Habits Section -->
            <section id="habits-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Reminders Section -->
            <section id="reminders-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Memories Section -->
            <section id="memories-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Reports Section -->
            <section id="reports-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Goals Section -->
            <section id="goals-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Entertainment Section -->
            <section id="entertainment-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Profile Section -->
            <section id="profile-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Settings Section -->
            <section id="settings-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>

            <!-- Expiry Section -->
            <section id="expiry-section" class="content-section d-none">
                <!-- Content will be loaded dynamically -->
            </section>
        </main>
    </div>

    <!-- Floating Action Button (Mobile) -->
    <div class="fab-container d-lg-none">
        <div class="fab-options">
            <button class="btn btn-success fab-option" data-action="add-habit" title="New Habit">
                <i class="fas fa-check"></i>
            </button>
            <button class="btn btn-danger fab-option" data-action="add-expense" title="Add Expense">
                <i class="fas fa-minus"></i>
            </button>
            <button class="btn btn-primary fab-option" data-action="add-income" title="Add Income">
                <i class="fas fa-plus"></i>
            </button>
        </div>
        <button class="btn btn-primary fab-main" id="fab-main-btn" aria-label="Quick Add">
            <i class="fas fa-plus"></i>
        </button>
    </div>

    <!-- Modals -->
    <!-- Add Transaction Modal -->
    <div class="modal fade" id="addTransactionModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Transaction</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="transaction-form">
                        <input type="hidden" id="transaction-id">
                        <div class="mb-3">
                            <label class="form-label">Type</label>
                            <div class="btn-group w-100" role="group">
                                <input type="radio" class="btn-check" name="transaction-type" id="type-income" value="income" checked>
                                <label class="btn btn-outline-success" for="type-income">
                                    <i class="fas fa-plus-circle me-1"></i> Income
                                </label>
                                <input type="radio" class="btn-check" name="transaction-type" id="type-expense" value="expense">
                                <label class="btn btn-outline-danger" for="type-expense">
                                    <i class="fas fa-minus-circle me-1"></i> Expense
                                </label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Amount</label>
                            <div class="input-group">
                                <span class="input-group-text">₹</span>
                                <input type="number" class="form-control" id="transaction-amount" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Payment Mode</label>
                            <select class="form-select" id="transaction-mode">
                                <option value="cash">Cash</option>
                                <option value="bank">Bank Transfer</option>
                                <option value="upi">UPI</option>
                                <option value="credit-card">Credit Card</option>
                                <option value="debit-card">Debit Card</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Category</label>
                            <select class="form-select" id="transaction-category" required>
                                <!-- Categories will be loaded dynamically -->
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="transaction-description" rows="2" placeholder="Optional description"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Date</label>
                            <input type="date" class="form-control" id="transaction-date" required>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="recurring-transaction">
                            <label class="form-check-label" for="recurring-transaction">
                                This is a recurring transaction
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="save-transaction">Save Transaction</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Habit Modal -->
    <div class="modal fade" id="addHabitModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Habit</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="habit-form">
                        <input type="hidden" id="habit-id">
                        <div class="mb-3">
                            <label class="form-label">Habit Type</label>
                            <div class="btn-group w-100" role="group">
                                <input type="radio" class="btn-check" name="habit-type" id="type-good" value="good" checked>
                                <label class="btn btn-outline-success" for="type-good">Build (Good)</label>
                                <input type="radio" class="btn-check" name="habit-type" id="type-bad" value="bad">
                                <label class="btn btn-outline-danger" for="type-bad">Quit (Bad)</label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Habit Name</label>
                            <input type="text" class="form-control" id="habit-name" placeholder="e.g., Morning Exercise" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Category</label>
                            <select class="form-select" id="habit-category">
                                <option value="health">Health & Fitness</option>
                                <option value="work">Work & Productivity</option>
                                <option value="learning">Learning</option>
                                <option value="personal">Personal Development</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Frequency</label>
                            <select class="form-select" id="habit-frequency">
                                <option value="daily">Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" id="habit-target-label">Target (times per period)</label>
                            <input type="number" class="form-control" id="habit-target" min="0" value="1">
                        </div>
                        <div class="mb-3">
                            <div id="habit-cost-container" class="d-none">
                                <label class="form-label">Cost per occurrence (₹)</label>
                                <input type="number" class="form-control" id="habit-cost" min="0" step="0.01" placeholder="Amount saved per avoidance">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Reminder Time (optional)</label>
                            <input type="time" class="form-control" id="habit-reminder-time">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Color</label>
                            <div id="color-picker" class="d-flex gap-2">
                                <!-- Colors will be added dynamically -->
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="save-habit">Save Habit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Reminder Modal -->
    <div class="modal fade" id="addReminderModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Task/Reminder</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="reminder-form">
                        <input type="hidden" id="reminder-id">
                        <div class="mb-3">
                            <label class="form-label">Title</label>
                            <input type="text" class="form-control" id="reminder-title" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="reminder-description" rows="3"></textarea>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Due Date</label>
                                <input type="date" class="form-control" id="reminder-due-date" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Time</label>
                                <input type="time" class="form-control" id="reminder-time">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Priority</label>
                            <select class="form-select" id="reminder-priority">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="reminder-notification">
                            <label class="form-check-label" for="reminder-notification">
                                Send notification
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="save-reminder">Save Task</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Memory Modal -->
    <div class="modal fade" id="addMemoryModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Memory</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="memory-form">
                        <input type="hidden" id="memory-id">
                        <div class="mb-3">
                            <label class="form-label">Title</label>
                            <input type="text" class="form-control" id="memory-title" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="memory-description" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Date</label>
                            <input type="date" class="form-control" id="memory-date" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Upload Image (optional)</label>
                            <input type="file" class="form-control" id="memory-image" accept="image/*">
                            <div class="preview-container mt-2 d-none">
                                <img id="image-preview" class="img-thumbnail" style="max-height: 150px;">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Tags (comma separated)</label>
                            <input type="text" class="form-control" id="memory-tags" placeholder="e.g., vacation, family, travel">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="save-memory">Save Memory</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="notification-toast" class="toast" role="alert">
            <div class="toast-header">
                <i class="fas fa-bell text-primary me-2"></i>
                <strong class="me-auto">Notification</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body">
                <!-- Notification message will appear here -->
            </div>
        </div>
        
        <!-- Update Toast -->
        <div id="update-toast" class="toast" role="alert" data-bs-autohide="false">
            <div class="toast-header bg-primary text-white">
                <i class="fas fa-cloud-download-alt me-2"></i>
                <strong class="me-auto">Update Available</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body">
                A new version is available.
                <button type="button" class="btn btn-sm btn-outline-primary w-100 mt-2" id="reload-app-btn">Reload to Update</button>
            </div>
        </div>
    </div>

    <!-- Logout Confirmation Modal -->
    <div class="modal fade" id="logoutConfirmModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-sm">
            <div class="modal-content">
                <div class="modal-body text-center p-4">
                    <div class="mb-3 text-warning"><i class="fas fa-sign-out-alt fa-3x"></i></div>
                    <h5 class="mb-3">Log Out?</h5>
                    <p class="text-muted mb-4">Are you sure you want to sign out?</p>
                    <div class="d-grid gap-2">
                        <button type="button" class="btn btn-danger" id="confirm-logout-btn">Yes, Log Out</button>
                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- App Scripts -->
    <script src="js/firebase-config.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            firebase.auth().onAuthStateChanged(function(user) {
                if (!user) {
                    window.location.href = 'index.html';
                }
            });
        });
    </script>
    <script src="js/dashboard.js"></script>
    <script src="js/finance.js"></script>
    <script src="js/habits.js"></script>
    <script src="js/reminders.js"></script>
    <script src="js/memories.js"></script>
    <script src="js/reports.js"></script>
    <script src="js/profile.js"></script>
    <script src="js/goals.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/entertainment.js"></script>
    <script src="js/transactions.js"></script>
    <script src="js/loans.js"></script>
    <script src="js/expiry.js"></script>
    <script src="js/pwa.js"></script>
</body>
</html>
